<?xml version="1.0" encoding="UTF-8"?>
<job
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="urn:proactive:jobdescriptor:3.12" xsi:schemaLocation="urn:proactive:jobdescriptor:3.12 http://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.12/schedulerjob.xsd"  name="Run_SSIS_Package" projectName="8. ETL" priority="normal" onTaskError="continueJobExecution"  maxNumberOfExecution="2"  >
  <variables>
    <variable name="SSIS_PACKAGE_PATH" value="/path/to/ssis_package" model="PA:NOT_EMPTY_STRING"/>
    <variable name="SERVER" value="server_name" model="PA:NOT_EMPTY_STRING"/>
    <variable name="EXECUTION_TOOL_PATH" value="/path/to/execution/tool" model="PA:NOT_EMPTY_STRING"/>
  </variables>
  <description>
    <![CDATA[ A workflow that runs an SSIS package. Before the execution, the user has to provide the following variables:
SSIS_PACKAGE_PATH (required) is the full path of the SSIS package deployed on the Integration Services server. For example, \SSISDB\Test Package\testSSIS\Package.dtsx.
SERVER (required) is the name of the SQL Server instance. The SERVER option is used with the ISSERVER option. Only Windows Authentication can run a package on the SSIS server. Access to the package is through the current Windows user. If the Server option is omitted, the default local instance of SQL Server is used.
EXECUTION_TOOL_PATH (required) is the path of the dtexec tool used to run SSIS packages either in 32 bit mode or in 64 bit mode. For example, C:\Program Files\Microsoft SQL Server\150\DTS\Binn.

This workflow assumes that an Integration Service server is installed with deployed SSIS packages and that an SQL Server instance is running. ]]>
  </description>
  <genericInformation>
    <info name="bucketName" value="data-connectors"/>
    <info name="workflow.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/sql-server.png"/>
    <info name="Documentation" value="user/ProActiveUserGuide.html#_file"/>
    <info name="group" value="public-objects"/>
  </genericInformation>
  <taskFlow>
    <task name="Run_SSIS_Package" 
    
    
    
    
    fork="true">
      <description>
        <![CDATA[ The simplest task, ran by a cmd engine. ]]>
      </description>
      <genericInformation>
        <info name="task.icon" value="/automation-dashboard/styles/patterns/img/wf-icons/sql-server.png"/>
        <info name="task.documentation" value="user/ProActiveUserGuide.html#_file"/>
      </genericInformation>
      <scriptExecutable>
        <script>
          <code language="cmd">
            <![CDATA[
cd "%variables_EXECUTION_TOOL_PATH%"
echo Running SSIS Packages using the "%variables_EXECUTION_TOOL_PATH%" version of the dtexec tool
DTExec /ISSERVER "%variables_SSIS_PACKAGE_PATH%" /SERVER "%variables_SERVER%"
]]>
          </code>
        </script>
      </scriptExecutable>
      <metadata>
        <positionTop>
            244.96875
        </positionTop>
        <positionLeft>
            452.46875
        </positionLeft>
      </metadata>
    </task>
  </taskFlow>
  <metadata>
    <visualization>
      <![CDATA[ <html>
    <head>
    <link rel="stylesheet" href="/studio/styles/studio-standalone.css">
        <style>
        #workflow-designer {
            left:0 !important;
            top:0 !important;
            width:2144px;
            height:2908px;
            }
        </style>
    </head>
    <body>
    <div id="workflow-visualization-view"><div id="workflow-visualization" style="position:relative;top:-239.96875px;left:-447.46875px"><div class="task _jsPlumb_endpoint_anchor_ ui-draggable" id="jsPlumb_1_79" style="top: 244.969px; left: 452.469px;"><a class="task-name" data-toggle="tooltip" data-placement="right" title="The simplest task, ran by a cmd engine."><img src="/studio/images/WindowsCmd.png" width="20px">&nbsp;<span class="name">Run_SSIS_Package</span></a></div><div class="_jsPlumb_endpoint source-endpoint dependency-source-endpoint connected _jsPlumb_endpoint_anchor_ ui-draggable ui-droppable" style="position: absolute; height: 20px; width: 20px; left: 505px; top: 275px;"><svg style="position:absolute;left:0px;top:0px" width="20" height="20" pointer-events="all" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml"><circle cx="10" cy="10" r="10" version="1.1" xmlns="http://www.w3.org/1999/xhtml" fill="#666" stroke="none" style=""></circle></svg></div></div></div>
    </body>
</html>
 ]]>
    </visualization>
  </metadata>
</job>